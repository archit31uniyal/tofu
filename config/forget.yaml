model_family: gpt2
model_path: null
LoRA:
  r: 0
  alpha: 32
  dropout: 0.05

lr: 1e-5
split: train
# data_path: /p/compressionleakage/llm_privacy/tofu/dataset
data_path: imdbhface
task: gen
batch_size: 4
gradient_accumulation_steps: 4
num_epochs: 3
forget_loss: grad_diff
save_dir: paper_models/4GPU_${forget_loss}_${lr}_${split}_${model_family}_unlearn_${data_path}_bf16
overwrite_dir: true
weight_decay: 0.01

eval:
  retain_result: /sfs/weka/scratch/deu9yh/llm_privacy/tofu/data/retain90_llama_wd0.01/eval_results/ds_size300/eval_log_aggregated.json
  model_path: ${..model_path}
  model_family: ${..model_family}
  save_dir: ${..save_dir}
  forgot_dir: ${..data_path}
  data_path: [wikitext, bookcorpus, imdbhface]
  split: ${..split}
  split_list:
    - retain
    - retain
    - ${split}

  eval_task: [eval_wikitext, eval_books, eval_log_forget]
  question_key: [question, question, question]
  answer_key: [answer, answer, answer]
  base_answer_key: [answer, answer, paraphrased_answer]
  perturbed_answer_key: [perturbed_answer, perturbed_answer, perturbed_answer]

  generation:
    max_length: 200
    max_new_tokens: null

  save_generated_text: true

  ds_size: 300

  overwrite: true
  use_pretrained: false

  batch_size: 30